# E-Commerce System Environment Configuration Template
# Copy this file to .env and fill in your actual values
# ⚠️ IMPORTANT: Never commit .env file to git - it contains sensitive credentials

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Port for backend server (default: 5000)
PORT=5000

# Node environment (development, production, test)
NODE_ENV=development

# Base URL for API (used by frontend)
REACT_APP_API_URL=http://localhost:5000/api

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MongoDB connection string
# Local development: mongodb://localhost:27017/ecommerce
# MongoDB Atlas: Get from https://www.mongodb.com/cloud/atlas
# Format: mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@cluster.mongodb.net/database_name
# ⚠️ NEVER commit actual credentials - use environment variables only
MONGODB_URI=your_mongodb_connection_string_here

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT Secret key for token signing (must be at least 32 characters)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_here_must_be_at_least_32_characters

# JWT expiration time (e.g., 7d, 30d, 24h)
JWT_EXPIRE=7d

# Refresh token secret (for refresh token rotation)
REFRESH_TOKEN_SECRET=your_refresh_token_secret_here_32_chars_minimum

# Password salt rounds for bcryptjs (7-12 recommended)
BCRYPT_ROUNDS=10

# ============================================================================
# EMAIL SERVICE (Postmark)
# ============================================================================

# Postmark API key for sending emails
# Get from: https://account.postmarkapp.com
POSTMARK_API_KEY=your_postmark_api_key_here

# Email address that sends all notifications
POSTMARK_FROM_EMAIL=noreply@yourdomain.com

# Email address to receive admin alerts
ADMIN_EMAIL=admin@yourdomain.com

# ============================================================================
# PAYMENT GATEWAY (Stripe)
# ============================================================================

# Stripe API keys - Get from: https://dashboard.stripe.com/apikeys
# Publishable key (public - safe to expose)
REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key_here

# Secret key (SENSITIVE - keep private, never expose to frontend)
STRIPE_SECRET_KEY=sk_live_your_secret_key_here

# Webhook secret for Stripe events
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# FILE UPLOAD & STORAGE
# ============================================================================

# Maximum file size for uploads (in bytes)
# 5242880 = 5MB
MAX_FILE_SIZE=5242880

# Allowed file types for product images
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# ============================================================================
# FIREBASE CONFIGURATION
# ============================================================================

# Firebase project configuration - Get from Firebase Console
# https://console.firebase.google.com

# API Key
FIREBASE_API_KEY=your_firebase_api_key_here

# Auth Domain
FIREBASE_AUTH_DOMAIN=your-app.firebaseapp.com

# Project ID
FIREBASE_PROJECT_ID=your-project-id

# Storage Bucket
FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com

# Messaging Sender ID
FIREBASE_MESSAGING_SENDER_ID=123456789

# App ID
FIREBASE_APP_ID=1:123456789:web:abcdef123456

# ============================================================================
# THIRD-PARTY SERVICES
# ============================================================================

# Google OAuth (for social login)
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Facebook OAuth (for social login)
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# SendGrid API key (alternative email service)
SENDGRID_API_KEY=your_sendgrid_api_key

# Twilio API (for SMS notifications)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level (error, warn, info, debug, trace)
LOG_LEVEL=debug

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
ENABLE_PAYMENT=true
ENABLE_REVIEWS=true
ENABLE_WISHLIST=true
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_SOCIAL_LOGIN=false

# ============================================================================
# RATE LIMITING
# ============================================================================

# Rate limit for API requests (requests per 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit for authentication endpoints (stricter)
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,https://yourdomain.com

# ============================================================================
# SESSION & COOKIES
# ============================================================================

# Session secret for express-session
SESSION_SECRET=your_session_secret_key_here_32_chars

# Cookie settings
COOKIE_MAX_AGE=2592000000

# ============================================================================
# REDIS CACHE (Optional)
# ============================================================================

# Redis connection URL (optional - for caching)
# Format: redis://username:password@localhost:6379
REDIS_URL=redis://localhost:6379

# Cache TTL (Time to Live) in seconds
CACHE_TTL=3600

# ============================================================================
# ADMIN SETTINGS
# ============================================================================

# Default admin email for first-time setup
DEFAULT_ADMIN_EMAIL=admin@example.com

# Default admin password (change after first login)
DEFAULT_ADMIN_PASSWORD=changeMe123!

# ============================================================================
# DATABASE BACKUP
# ============================================================================

# Backup interval in hours
BACKUP_INTERVAL_HOURS=24

# Backup location (local path or cloud storage)
BACKUP_PATH=./backups

# ============================================================================
# DEVELOPMENT SETTINGS (Only for development)
# ============================================================================

# Enable debug mode (verbose logging)
DEBUG=true

# Enable CORS (for development only)
ALLOW_CORS=true

# Mock data generation (for testing)
GENERATE_MOCK_DATA=false

# Seed database with sample data
SEED_DATABASE=false

# ============================================================================
# API DOCUMENTATION
# ============================================================================

# Enable Swagger API documentation
ENABLE_SWAGGER=true

# Swagger UI path
SWAGGER_PATH=/api-docs

# ============================================================================
# PRODUCT SETTINGS
# ============================================================================

# Products per page for pagination
PRODUCTS_PER_PAGE=20

# Maximum products to display
MAX_PRODUCTS=1000

# Image optimization
ENABLE_IMAGE_OPTIMIZATION=true

# Product cache TTL (in seconds)
PRODUCT_CACHE_TTL=3600

# ============================================================================
# SECURITY HEADERS
# ============================================================================

# Enable security headers
ENABLE_SECURITY_HEADERS=true

# Content Security Policy
CSP_ENABLED=true

# X-Frame-Options header
X_FRAME_OPTIONS=DENY

# ============================================================================
# VERSION & BUILD
# ============================================================================

# Application version
APP_VERSION=1.0.0

# Build timestamp
BUILD_DATE=2024-01-01

# Git commit hash
GIT_COMMIT=abc123def456

# ============================================================================
# NOTES
# ============================================================================

# SECURITY REMINDERS:
# 1. Never commit .env to version control - add to .gitignore
# 2. Generate strong JWT secrets: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 3. Rotate secrets regularly in production
# 4. Use different secrets for different environments
# 5. Keep API keys confidential
# 6. Enable HTTPS in production (never HTTP)
# 7. Set secure cookies in production
# 8. Enable rate limiting to prevent abuse
# 9. Monitor logs for suspicious activity
# 10. Keep dependencies up to date

# PRODUCTION CHECKLIST:
# ☐ NODE_ENV=production
# ☐ Use strong JWT_SECRET (32+ characters)
# ☐ MongoDB Atlas with IP whitelist enabled
# ☐ Enable HTTPS/SSL certificates
# ☐ Set secure, httpOnly cookies
# ☐ Enable CORS only for your domain
# ☐ Configure rate limiting
# ☐ Set up monitoring and logging
# ☐ Enable CSRF protection
# ☐ Regular database backups
# ☐ Enable payment production keys (if using Stripe)
# ☐ Email service configured (Postmark/SendGrid)
# ☐ Error tracking enabled (Sentry)
# ☐ Security headers configured

